{{outlet partitionFilter}}

<h1 id="ring-headline" class="gui-headline-bold">
    Ring View
    <span id="total-number" class="gui-text"></span>
</h1>

<ul class="pagination gui-text">
  <li name="prev"><span class="paginator" {{action prevPage href=true target="controller"}}>Prev</span></li>
  {{#each pages}}
    {{view RiakControl.PaginationItemView contentBinding="this"}}
  {{/each}}
  <li name="next"><span class="paginator" {{action nextPage href=true target="controller"}}>Next</span></li>
</ul>
<div class="cut"></div>

<div id="partition-list" class="has-cut">
    <table class="list-table" id="ring-table">
        <thead>
            <tr class="table-head has-cut">
                <td><h3 class="gui-headline">#</h3></td>
                <td><h3 class="gui-headline">Owner Node</h3></td>
                <td><h3 class="gui-headline">KV</h3></td>
                <td><h3 class="gui-headline">Pipe</h3></td>
                <td><h3 class="gui-headline">Search</h3></td>
            </tr>
        </thead>
        {{#collection RiakControl.PartitionView contentBinding="controller.paginatedContent"}}
          {{#with view.content}}
          <td class="partition-number gui-text">{{i}}</td>
          <td class="owner-box gui-text">
              <div class="gui-field gui-text">
                  <div class="gui-field-bg">
                      <div class="owner gui-field-input">{{node}}</div>
                      <div class="partition-index hide">{{index}}</div>
                  </div>
                  <div class="gui-field-cap-left"></div>
                  <div class="gui-field-cap-right"></div>
              </div>
          </td>
          {{/with}}
          {{#with view}}
          <td class="kv-box gui-text">
              <a {{bindAttr class="kvIndicator lightClasses"}}>
                  <span class="kv-status">{{kvStatus}}</span>
                  <span class="hide fallback-to"></span>
              </a>
          </td>
          <td class="pipe-box gui-text">
              <a {{bindAttr class="pipeIndicator lightClasses"}}>
                  <span class="pipe-status">{{pipeStatus}}</span>
                  <span class="hide fallback-to"></span>
              </a>
          </td>
          <td class="search-box gui-text">
              <a {{bindAttr class="searchIndicator lightClasses"}}>
                  <span class="search-status">{{searchStatus}}</span>
                  <span class="hide fallback-to"></span>
              </a>
          </td>
          {{/with}}
        {{/collection}}
    </table>
</div>

<ul class="pagination gui-text">
  <li name="prev"><span class="paginator" {{action prevPage href=true target="controller"}}>Prev</span></li>
  {{#each pages}}
    {{view RiakControl.PaginationItemView contentBinding="this"}}
  {{/each}}
  <li name="next"><span class="paginator" {{action nextPage href=true target="controller"}}>Next</span></li>
</ul>
<div class="cut"></div>
